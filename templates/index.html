{{ define "title" }}Finch{{ end }}

{{ define "content" }}

{{ $username := .Username }}


{{ if .Username }}
<form action="/post/" method="post" class="form">
	<fieldset>
		<legend>Post</legend>

		<div class="row">
			<div class="col-lg-12">
				<textarea class="form-control" name="body" rows="10"></textarea>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-6">
				{{ range .Channels }}
				<label><input type="checkbox" name="channel_{{.Id}}" />
				{{.Label}}</label><br />
				{{ end }}

				<input type="text" name="new_channel0" placeholder="new channel 1"
							 class="form-control" />

				<input type="text" name="new_channel1" placeholder="new channel 2"
							 class="form-control" />

				<input type="text" name="new_channel2" placeholder="new channel 3"
							 class="form-control" />
			</div>
			<div class="col-lg-6">
				<input type="submit" class="btn btn-primary" />
			</div>
		</div>
				
	</fieldset>
</form>
{{ end }}


<h1>Finch</h1>

<div class="row">
<div class="col-lg-6">
<h2>Recent Posts</h2>
{{ range .Posts }}
<hr />
{{.RenderBody}}

<p> - <a href="/u/{{.User.Username}}/">{{.User.Username}}</a>
 @ <a href="{{.URL}}">{{.Time}}</a></p>
{{ end }}
</div>

<div class="col-lg-6">
<h2>Channels</h2>

{{ range .Channels }}
	<a href="/u/{{$username}}/c/{{.Slug}}/">{{.Label}}</a><br />
{{ end }}

</div>

</div>

{{ end }}
